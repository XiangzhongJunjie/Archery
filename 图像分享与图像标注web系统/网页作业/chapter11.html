<!DOCTYPE html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<title >第十一章</title>
<header style = "text-align: center; font-size: large;">第十一章</header>
<br>
<body>
    <div style = "margin-left: 20%; margin-right: 20%; text-align: left;">
        <a><strong>1.使用MyBatis编程实现表数据的增、删、改、查操作。</strong></a>
        <p style="text-indent:2em">(1). 创建数据库表：<br>

            ```sql<br>
            CREATE TABLE `user` (<br>
            `id` int(11) NOT NULL AUTO_INCREMENT,<br>
            `name` varchar(255) DEFAULT NULL,<br>
            `age` int(11) DEFAULT NULL,<br>
            PRIMARY KEY (`id`)<br>
            ) ENGINE=InnoDB DEFAULT CHARSET=utf8;<br>
            ```<br>
        </p>
        <p style="text-indent:2em">
            (2). 创建实体类（JavaBean）：<br>

            ```java<br>
            public class User {<br>
            private int id;<br>
            private String name;<br>
            private int age;<br>

            // Getter and Setter methods<br>
            }<br>
            ```<br>
        </p>
        <p style="text-indent:2em">
            (3). 创建映射文件（mapper.xml）：<br>

            ```xml<br>
            <?xml version="1.0" encoding="UTF-8"?>
            <!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
            <mapper namespace="com.example.mapper.UserMapper">

                <resultMap id="BaseResultMap" type="com.example.entity.User">
                    <id column="id" property="id" jdbcType="INTEGER" />
                    <result column="name" property="name" jdbcType="VARCHAR" />
                    <result column="age" property="age" jdbcType="INTEGER" />
                </resultMap>

                <insert id="insert" parameterType="com.example.entity.User">
                    INSERT INTO user (id, name, age)<br>
                    VALUES (#{id, jdbcType=INTEGER}, #{name, jdbcType=VARCHAR}, #{age, jdbcType=INTEGER})<br>
                </insert>

                <delete id="deleteById" parameterType="int">
                    DELETE FROM user WHERE id = #{id, jdbcType=INTEGER}<br>
                </delete>

                <update id="update" parameterType="com.example.entity.User">
                    UPDATE user<br>
                    SET name = #{name, jdbcType=VARCHAR}, age = #{age, jdbcType=INTEGER}<br>
                    WHERE id = #{id, jdbcType=INTEGER}<br>
                </update>

                <select id="findById" resultMap="BaseResultMap" parameterType="int"><br>
                    SELECT * FROM user WHERE id = #{id, jdbcType=INTEGER}<br>
                </select><br>

                <select id="findAll" resultMap="BaseResultMap"><br>
                    SELECT * FROM user<br>
                </select><br>

            </mapper>
            ```<br>
        </p>
        <p style="text-indent:2em">
            (4). 创建Mapper接口：<br>

            ```java<br>
            package com.example.mapper;<br>

            import com.example.entity.User;<br>
            import java.util.List;<br>

            public interface UserMapper {<br>
            int insert(User user);<br>
            int deleteById(int id);<br>
            int update(User user);<br>
            User findById(int id);<br>
            List<User> findAll();<br>
            }<br>
            ```<br>
        </p>
        <p style="text-indent:2em">
            (5). 创建MyBatis配置文件（mybatis-config.xml）：<br>

            ```xml<br>
            <?xml version="1.0" encoding="UTF-8"?><br>
            <!DOCTYPE configuration PUBLIC "-//mybatis.org//DTD Config 3.0//EN" "http://mybatis.org/dtd/mybatis-3-config.dtd"><br>
            <configuration><br>
                <environments default="development"><br>
                    <environment id="development"><br>
                        <transactionManager type="JDBC" /><br>
                        <dataSource type="POOLED"><br>
                            <property name="driver" value="com.mysql.jdbc.Driver" /><br>
                            <property name="url" value="jdbc:mysql://localhost:3306/mydb" /><br>
                            <property name="username" value="root" /><br>
                            <property name="password" value="password" /><br>
                        </dataSource><br>
                    </environment><br>
                </environments><br>
                <mappers><br>
                    <mapper resource="com"/><br>
        </p>
        <br>
        <a><strong>2.MyBatis的主配置文件有哪些配置元素（配置项）？如何使用？</strong></a>
        <p style="text-indent:2em"> MyBatis的主配置文件主要包含以下配置元素：<br>

            1. configuration：配置文件的最高层级，包含其他所有子元素。<br>
            2. properties：属性信息，用于配置MyBatis的相关属性，如数据库连接参数、事务管理等。<br>
            3. settings：设置一些全局配置，如日志、缓存等。<br>
            4. typeAliases：用于配置Java类型别名，方便在SQL映射文件中使用。<br>
            5. typeHandlers：自定义类型处理器，用于处理特殊的数据类型。<br>
            6. objectFactory：对象工厂，用于创建MyBatis内部使用的对象。<br>
            7. plugins：插件，用于扩展MyBatis的功能。<br>
            8. environments：环境配置，用于配置多个数据库连接。<br>
            9. environments下的environment：单个数据库连接配置，包含数据库URL、用户名、密码等。<br>
        </p>
        <p style="text-indent:2em"> 使用方法：<br>

            在MyBatis的配置文件中，按照从上到下的顺序进行配置。<br>
        </p>
        <br>
        <a><strong>3.什么是映射器？SQL映射文件有哪些常用元素？其作用分别是什么？</strong></a>
        <p style="text-indent:2em"> 映射器是一种数据处理工具，用于将数据从一个来源转换到另一个目的地。在计算机编程领域，映射器通常用于将数据库中的数据映射到程序中的对象。
        </p>
        <p style="text-indent:2em">SQL映射文件常用的元素包括：<br>

            1. `<mapper>`：映射器的声明，用于指定映射文件的名称和对应的SQL语句。<br>
                2. `<select>`：用于定义SQL查询语句，例如：SELECT、FROM、WHERE等。<br>
                    3. `<insert>`：用于定义INSERT INTO语句，用于向数据库中插入数据。<br>
                        4. `<update>`：用于定义UPDATE语句，用于更新数据库中的数据。<br>
                            5. `<delete>`：用于定义DELETE语句，用于删除数据库中的数据。<br>
                                6. `<resultMap>`：用于定义查询结果与程序对象之间的映射关系。<br>
                                    7. `<result>`：用于指定SQL查询语句中的字段与程序对象属性之间的映射关系。<br>
                                        8. `<sql>`：用于在映射文件中定义动态SQL语句，例如：IF、ELSE、THEN等。<br>
        </p>
        <p style="text-indent:2em"> 这些元素的作用分别是：<br>

            1. `<mapper>`：指定映射文件的名称和对应的SQL语句，方便程序调用。<br>
                2. `<select>`、`<insert>`、`<update>`、`<delete>`：定义数据库操作语句，用于实现数据的查询、插入、更新和删除。<br>
                    3. `<resultMap>`：定义查询结果与程序对象之间的映射关系，方便将查询结果转换为程序对象。<br>
                        4. `<result>`：指定SQL查询语句中的字段与程序对象属性之间的映射关系，方便将查询结果映射到程序对象。<br>
                            5. `<sql>`：定义动态SQL语句，用于根据不同条件执行不同的SQL查询。<br>
        </p>
        <br>
        <br>
        
    </div>
</body>